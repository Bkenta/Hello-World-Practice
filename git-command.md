# Gitコマンド

- [Gitコマンド](#gitコマンド)
  - [◆初期設定](#初期設定)
    - [プロジェクトディレクトリをgit管理の対象にする（初期化）](#プロジェクトディレクトリをgit管理の対象にする初期化)
    - [リモートリポジトリとの接続設定](#リモートリポジトリとの接続設定)
  - [◆ローカルでの登録～リモートへのプッシュ](#ローカルでの登録リモートへのプッシュ)
    - [ステージ領域（インデックス）へファイルを追加](#ステージ領域インデックスへファイルを追加)
    - [ローカルリポジトリにコミット（記録）する](#ローカルリポジトリにコミット記録する)
    - [リモートリポジトリにプッシュする](#リモートリポジトリにプッシュする)
  - [◆ブランチ](#ブランチ)
    - [ブランチを一覧表示](#ブランチを一覧表示)
    - [ブランチを作成](#ブランチを作成)
    - [ブランチを切り替える](#ブランチを切り替える)
    - [ブランチを作成し、作成したブランチに切り替える](#ブランチを作成し作成したブランチに切り替える)
    - [直前のブランチに切り替える](#直前のブランチに切り替える)
    - [作成したブランチをリモートリポジトリに反映する](#作成したブランチをリモートリポジトリに反映する)
    - [ブランチをマージする](#ブランチをマージする)
    - [コミット済みの歴史を戻る](#コミット済みの歴史を戻る)
  - [◆便利コマンド](#便利コマンド)
    - [コミット履歴を表示する](#コミット履歴を表示する)
    - [リポジトリで行われた作業のログを表示する](#リポジトリで行われた作業のログを表示する)
    - [リポジトリの状態を確認](#リポジトリの状態を確認)
    - [変更差分を確認](#変更差分を確認)
    - [最新コミットとの変更差分を確認](#最新コミットとの変更差分を確認)
  - [操作の修正](#操作の修正)
    - [直前のコミットメッセージの修正](#直前のコミットメッセージの修正)
    - [歴史の上書き](#歴史の上書き)

## ◆初期設定

### プロジェクトディレクトリをgit管理の対象にする（初期化）

```console
git init
```

### リモートリポジトリとの接続設定

```console
git remote add 任意のリポジトリ名 リモートリポジトリのURL
```

## ◆ローカルでの登録～リモートへのプッシュ

### ステージ領域（インデックス）へファイルを追加

```console
git add ファイル名
```

### ローカルリポジトリにコミット（記録）する

```console
git commit
```

| オプション | 内容 |
|:-----------:|:----:|
| -m "任意のコメント" | 簡単なコメントを同時に記述できる |
| -amend | 直前のコミットメッセージを修正する |
| -am "任意のコメント" | addとコミットを同時に実行する |

### リモートリポジトリにプッシュする

```console
git push [リモートリポジトリとの接続設定]で設定した名前 ブランチ名
```

## ◆ブランチ

### ブランチを一覧表示

```console
git branch
```

| オプション | 内容 |
|:-----------:|:----:|
| -a | 紐づいているリモートリポジトリのブランチを同時に表示 |

### ブランチを作成

```console
git branch 任意のブランチ名
```

### ブランチを切り替える

```console
git checkout ブランチ名
```

### ブランチを作成し、作成したブランチに切り替える

```console
git checkout -b 任意のブランチ名 
```

### 直前のブランチに切り替える

```console
git checkout -
```

### 作成したブランチをリモートリポジトリに反映する

```console
git push -u [リモートリポジトリとの接続設定]で設定した名前 ブランチ名
```

### ブランチをマージする

```console
git merge マージしたいブランチ名
```

※現在のブランチに対して上記コマンドで指定したブランチがマージされる

### コミット済みの歴史を戻る

```console
git reset --hard コミットログID
```

## ◆便利コマンド

### コミット履歴を表示する

```console
git log [確認したいディレクトリ または ファイル名]
```

| オプション | 内容 |
|:-----------:|:----:|
| -p | ファイルの差分を表示する |
| --graph | コミットログをグラフ付きで表示する |
| --pretty=short | １行目の要約だけのメッセージ一覧を表示する |

### リポジトリで行われた作業のログを表示する

```console
git reflog
```

※例えば表示されたログの左端のIDとresetを使用することで歴史を自由に行き来できる

### リポジトリの状態を確認

```console
git status 
```

### 変更差分を確認

```console
git diff 
```

### 最新コミットとの変更差分を確認

```console
git diff HEAD
```

## 操作の修正

### 直前のコミットメッセージの修正

```console
git commit -amend
```

### 歴史の上書き

```console
git rebase -i HEAD~数値
```

※数値の分の歴史を対象とする

<!-- 
### 

```console
git 
``` -->
